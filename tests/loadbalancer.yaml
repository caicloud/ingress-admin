apiVersion: alpha.caicloud.io/v1alpha1
kind: LoadBalancer
metadata:
  name: "lb"
spec:
  # internal or external, can't convert each other
  type: "external"

  # only available when type is internal
  replicas: 3

  # only available when type is external
  nodes:
    dedicated: NoSchedule
    names:
    - kube-node-70
    - kube-node-71

  # actually proxy is an ingress controller
  proxy: 
    type: nginx
    resources:
      limits:
        cpu: 100m
        memory: 100Mi
      requests:
        cpu: 100m
        memory: 100Mi

  # internal can only use service provider
  # external can use all kinds of provider
  providers:
    service:
      name: xxxx
    ipvsdr:
      vip: 192.168.99.200
      scheduler: rr

